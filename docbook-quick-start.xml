<?xml version="1.0" encoding="utf-8"?>
<article xmlns="http://docbook.org/ns/docbook" version="5.0"
         xmlns:xlink="http://www.w3.org/1999/xlink">

  <info>
    <title>DocBook Quick Start</title>
    <subtitle>Getting Up and Running with DocBook</subtitle>
    <authorgroup>
      <author>
        <orgname>LOCKSS Program, Stanford University Libraries</orgname>
      </author>
    </authorgroup>
  </info>

  <section xml:id="introduction">

    <title>Introduction</title>

    <para>
      <link xlink:href="http://docbook.org/">DocBook</link> version 5.0 is an
      XML language standardized by OASIS that describes documents such as
      articles and books. Tools exist that can translate DocBook input into
      intermediary formats like XSL Formatting Objects (XSL-FO) or output
      formats like PDF, PostScript, <command>man</command> pages, HTML Web
      sites, and more. This document describes a basic set of DocBook features
      that can be used to produce documentation and other technical documents.
    </para>

    <section xml:id="introduction-usingthelockssdocbookpackage">

      <title>Using the <package>lockss-docbook</package> Package</title>

      <para>
        The <link xlink:href="http://www.lockss.org/">LOCKSS Team</link> has
        bundled up a tool chain to process DocBook documents into PDF documents
        using XSL Formatting Objects (XSL-FO) and Apache FOP 2.1. This
        <package>lockss-docbook</package> package can be found on GitHub at
        <link xlink:href="https://github.com/lockss/lockss-docbook" />.
      </para>
      <para>
        To use it, you will need Java 6 or better and <command>git</command>.
      </para>
      <procedure>
        <step>
          <para>
            Clone the <package>lockss-docbook</package> repository:
          </para>
          <literallayout><userinput>git clone https://github.com/lockss/lockss-docbook</userinput></literallayout>
        </step>
        <step>
          <para>
            Invoke <command>makedoc</command> (<filename>lockss-docbook/bin/makedoc</filename>) with the <option>-pdf</option> option on any number of DocBook XML files, which will generate PDF files with corresponding names:
          </para>
          <literallayout><userinput>makedoc -pdf <replaceable>myfile.xml</replaceable></userinput></literallayout>
        </step>
      </procedure>

    </section>

  </section>

  <section xml:id="documentstructure">

    <title>Document Structure</title>

    <para>
      All DocBook documents begin with an XML preamble:
    </para>
    <programlisting><![CDATA[<?xml version="1.0" encoding="utf-8"?>]]></programlisting>
    <para>
      You have a choice of top-level elements:
    </para>
    <itemizedlist>
      <listitem>
        <para>
          <tag>article</tag>: a single article or document (most likely)
        </para>
      </listitem>
      <listitem>
        <para>
          <tag>book</tag>: a book; a book consists of <tag>chapter</tag> and
          <tag>part</tag> elements (and a part consists of <tag>chapter</tag>
          elements)
        </para>
      </listitem>
      <listitem>
        <para>
          <tag>set</tag>: a collection of books; a set consists of
          <tag>book</tag> elements
        </para>
      </listitem>
    </itemizedlist>
    <para>
      Whichever top-level element you choose (say <tag>article</tag>), declare
      the following namespaces:
    </para>
    <programlisting><![CDATA[<article xmlns="http://docbook.org/ns/docbook" version="5.0"
         xmlns:xlink="http://www.w3.org/1999/xlink">
  ...
</article>]]></programlisting>
    <para>
      The top-level tags <tag>set</tag>, <tag>book</tag>, <tag>part</tag>,
      <tag>chapter</tag> and <tag>article</tag> each begin with an
      <tag>info</tag> stanza with a rich vocabulary to describe bilbiographic
      metadata (title and subtitle, dates, publisher information...) and to
      attribute names, contact information and organizational affiliations to
      various kinds of contributors (author, collaborator, editor...). Without
      going into detail, the essential is to provide:
    </para>
    <itemizedlist>
      <listitem>
        <para>
          A title with the <tag>title</tag> element
        </para>
      </listitem>
      <listitem>
        <para>
          An optional subtitle with the <tag>subtitle</tag> element
        </para>
      </listitem>
      <listitem>
        <para>
          An author group with the <tag>authorgroup</tag> element, containing
          one or more <tag>author</tag> elements. At the simplest level, an
          <tag>author</tag> element contains either the name of an
          organizational author with the <tag>orgname</tag> element or the name
          of an individual author with the <tag>person</tag> element.
        </para>
      </listitem>
    </itemizedlist>
    <para>
      Example:
    </para>
    <programlisting><![CDATA[<info>
  <title>Main Title</title>
  <subtitle>The Subtitle Goes Here</subtitle>
  <authorgroup>
    <author>
      <personname>John H. Smith</personname>
    </author>
    <author>
      <orgname>The MegaDocBook Foundation</orgname>
    </author>
  </authorgroup>
</info>]]></programlisting>
    <para>
      The <tag>article</tag> and <tag>chapter</tag> elements are sub-divided
      into nested <code><![CDATA[<section>]]></code> elements that begin with a
      <tag>title</tag> element and optional <tag>subtitle</tag> element,
      followed by any number of content blocks:
    </para>
    <programlisting><![CDATA[<section>
  <title>First Section</title>
  ...
  <section>
    <title>First Subsection</title>
    ...
  </section>
  <section>
    <title>Second Subsection</title>
    ...
  </section>
</section>
<section>
  <title>Second Section</title>
  ...
</section>]]></programlisting>

  </section>

  <section xml:id="essentialcontentblocks">

    <title>Essential Content Blocks</title>

    <para>Sections are then made up of content blocks. DocBook provides a rich vocabulary of content structures, the most important of which are:</para>
    <itemizedlist>
      <listitem>
        <para>Paragraphs with <tag>para</tag>:</para>
        <programlisting><![CDATA[<para>This is a paragraph.</para>
<para>This is another paragraph.</para>]]></programlisting>
      </listitem>
      <listitem>
        <para>Lists with <tag>itemizedlist</tag> or <tag>orderedlist</tag>, which then contain one or more <tag>listitem</tag> elements, each of which can contain whatever content (as little as a single paragraph):</para>
        <programlisting><![CDATA[<itemizedlist>
  <listitem>
    <para>First bullet in the list.</para>
  </listitem>
  <listitem>
    <para>Second bullet in the list.</para>
  </listitem>
  <listitem>
    <para>Third bullet in the list.</para>
  </listitem>
</itemizedlist>]]></programlisting>
      </listitem>
      <listitem>
        <para>Asides in the form of <tag>note</tag>, <tag>tip</tag>, <tag>caution</tag>, <tag>warning</tag> or <tag>important</tag> stanzas, containing whatever content (as little as a single paragraph):</para>
        <programlisting><![CDATA[<note>
  <para>This is a note.</para>
</note>]]></programlisting>
        <para>It may be rendered like this:</para>
        <note>
          <para>This is a note.</para>
        </note>
      </listitem>
      <listitem>
        <para>Verbatim listings in the form of a <tag>programlisting</tag> stanza. To make your life easier with less-than, greater-than and ampersand characters that are present in source code fragments, you may want to escape the contents of the <tag>programlisting</tag> between <code>&lt;![CDATA[</code> and <code>]]&gt;</code>.</para>
        <programlisting>&lt;programlisting&gt;&lt;![CDATA[#!/bin/sh
echo "This is a shell script"
exit 1]]&gt;&lt;/programlisting&gt;</programlisting>
      </listitem>
    </itemizedlist>
    <para>There is also a rich markup vocabulary inline, the most important being:</para>
    <itemizedlist>
      <listitem>
        <para><tag>code</tag> for <code>literals</code>: code fragments, variable names, commands, etc.</para>
      </listitem>
      <listitem>
        <para><tag>emphasis</tag> for <emphasis>emphasis</emphasis>: important words, term definitions, etc.</para>
      </listitem>
      <listitem>
        <para><tag>link</tag> for hyperlinks:</para>
        <itemizedlist>
          <listitem>
            <para><code><![CDATA[<link xlink:href="http://docbook.org/">]]>DocBook<![CDATA[</link>]]></code> produces: <link xlink:href="http://docbook.org/">DocBook</link></para>
          </listitem>
          <listitem>
            <para><code><![CDATA[<link xlink:href="http://docbook.org/" />]]></code> produces: <link xlink:href="http://docbook.org/" /></para>
          </listitem>
        </itemizedlist>
      </listitem>
    </itemizedlist>

  </section>
  <!-- ESSENTIAL CONTENT BLOCKS -->

  <!-- ELEMENT REFERENCE -->
  <section xml:id="elementreference">

    <title>Element Reference</title>

    <para>The full DocBook element reference (fairly well organized) can be found here: <link xlink:href="http://docbook.org/tdg5/en/html/chunk-part-d64e8789.html" /></para>

  </section>
  <!-- ELEMENT REFERENCE -->

  <!-- APPENDIX: CHEAT SHEET -->
  <appendix>

    <title>Cheat Sheet</title>

    <programlisting><![CDATA[
SECTIONS:
<section>                               <sect1>
  <title>...</title>                      <title>...</title>
  <subtitle>...</subtitle>                <subtitle>...</subtitle>
  <section>                               <sect2>
    <!-- arbitrarily nestable -->           <!-- nestable to <sect5> -->
  </section>                              </sect2>
</section>                              </sect1>

LISTS:
<itemizedlist>                          <orderedlist>
  <lisitem>                               <listitem>
    <!-- content blocks -->                 <!-- content blocks -->
  </listitem>                             </listitem>
</itemizedlist>                         </orderedlist>

<procedure>
  <step>
    <!-- content blocks -->
  </step>
  <step performance="optional">
    <!-- content blocks -->
  </step>
</procedure>

MULTI-LINE:
<programlisting>Fixed-width font,       <literallayout>Normal font,
   but line breaks     and whitespace      but line breaks     and whitespace
  are     preserved</programlisting>      are     preserved</literallayout>

]]></programlisting>

  </appendix>
  <!-- APPENDIX: CHEAT SHEET -->

</article>
